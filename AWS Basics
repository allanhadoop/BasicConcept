# Source https://www.edureka.co/blog/interview-questions/top-aws-architect-interview-questions-2016/

ec2-create-group CreateSecurityGroup -- Creates a new security group for use with your account.
1. Spot Instances - Amazon EC2 Spot instances allow you to bid on spare Amazon EC2 computing capacity. Since Spot instances are often 
available at a discount compared to On-Demand pricing, you can significantly reduce the cost of running your applications

2. Dedicated Instances are Amazon EC2 instances that run in a VPC on hardware that's dedicated to a single customer. Your Dedicated 
instances are physically isolated at the host hardware level from instances that belong to other AWS accounts

3. Reserved Instances provide you with a significant discount (up to 75%) compared to On-Demand instance.Reserved Instances 
can provide a capacity reservation
      - Standard Reserved Instances: are best suited for steady-state usage
      - Convertible Reserved Instances: It provides the capability to change the attributes of the Reserved Instance as long as the 
        exchange results in the creation of Reserved Instances of equal or greater value. Like Standard Reserved Instances, Convertible 
        Reserved Instances are best suited for steady-state usage.
      - Scheduled Reserved Instances:These are available to launch within the time windows you reserve

Expensive -- On-demand then reserved then spot instances.

---- Q - 
You have a video trans-coding application. The videos are processed according to a queue. If the processing of a video is interrupted in 
one instance, it is resumed in another instance. Currently there is a huge back-log of videos which needs to be processed, for this you 
need to add more instances, but you need these instances only until your backlog is reduced. Which of these would be an efficient way to 
do it?  - Use on-demand instance 

----Q - 
You have a distributed application that periodically processes large volumes of data across multiple Amazon EC2 Instances. The application
is designed to recover gracefully from Amazon EC2 instance failures. You are required to accomplish this task in the most cost effective 
way. ---Since the work we are addressing here is not continuous, a reserved instance shall be idle at times, same goes with On Demand 
instances. Also it does not make sense to launch an On Demand instance whenever work comes up, since it is expensive. Hence Spot Instances 
will be the right fit because of their low rates and no long term commitments.

----Q - Difference between Stopping and Terminating Instance means- 
Stopping and Starting an instance: When an instance is stopped, the instance performs a normal shutdown and then transitions to a stopped 
state. All of its Amazon EBS volumes remain attached, and you can start the instance again at a later time. You are not charged for 
additional instance hours while the instance is in a stopped state.

Terminating an instance: When an instance is terminated, the instance performs a normal shutdown, then the attached Amazon EBS volumes 
are deleted unless the volume’s deleteOnTermination attribute is set to false. The instance itself is also deleted, and you can’t 
start the instance again at a later time.

---- Q - 
If I want my instance to run on a single-tenant hardware, which value do I have to set the instance’s tenancy attribute to? - dedicated 

---- Q - 
When will you incur costs with an Elastic IP address (EIP)? --
            When you use more than one Elastic IPs with your instance.
            When your Elastic IP is attached to a stopped instance.
            When your Elastic IP is not attached to any instance.

---- Q - 
How is a Spot instance different from an On-Demand instance or Reserved Instance?
Spot Instance, On-Demand instance and Reserved Instances are all models for pricing. Moving along, spot instances provide the ability 
for customers to purchase compute capacity with no upfront commitment, at hourly rates usually lower than the On-Demand rate in each 
region. Spot instances are just like bidding, the bidding price is called Spot Price. The Spot Price fluctuates based on supply and 
demand for instances, but customers will never pay more than the maximum price they have specified. If the Spot Price moves higher 
than a customer’s maximum price, the customer’s EC2 instance will be shut down automatically. But the reverse is not true, if the Spot 
prices come down again, your EC2 instance will not be launched automatically, one has to do that manually.  In Spot and On demand 
instance, there is no commitment for the duration from the user side, however in reserved instances one has to stick to the time 
period that he has chosen.

---- Q - 
Are the Reserved Instances available for Multi-AZ Deployments? --Multi-AZ Available for all instance types

---- Q - 
How to use the CPU processor state control feature available on the  c4.8xlarge instance?
The processor state control consists of 2 states:C-states are idle states and P-states are operational states
-- The C state – Sleep state varying from c0 to c6. C6 being the deepest sleep state for a processor.With the exception of C0, 
      where the CPU is active and busy doing something, a C-state is an idle state. 
-- The P state – Performance state p0 being the highest and p15 being the lowest possible frequency.A P-state is an operational state, 
      meaning that the core / processor can be doing useful work in any P-state. 
---- Q - 
What kind of network performance parameters can you expect when you launch instances in cluster placement group?
The network performance depends on the instance type and network performance specification, if launched in a placement group you can 
expect up to
- 10 Gbps in a single-flow,
- 20 Gbps in multiflow i.e full duplex
- Network traffic outside the placement group will be limited to 5 Gbps(full duplex).

---- Q - 
To deploy a 4 node cluster of Hadoop in AWS which instance type can be used?
Hadoop cluster follows a master slave concept. The master machine processes all the data, slave machines store the data and act as 
data nodes. Since all the storage happens at the slave, a higher capacity hard disk would be recommended and since master does all 
the processing, a higher RAM and a much better CPU is required. Therefore, you can select the configuration of your machine depending 
on your workload. For e.g. – In this case c4.8xlarge will be preferred for master machine whereas for slave machine we can select 
i2.large instance. If you don’t want to deal with configuring your instance and installing hadoop cluster manually, you can straight 
away launch an Amazon EMR (Elastic Map Reduce) instance which automatically configures the servers for you. You dump your data to be 
processed in S3, EMR picks it from there, processes it, and dumps it back into S3.

---- Q - 
What factor to consider prior to selection availability Zone?
- performance, cost and latency 

---- Q - 
AWS limit 
- 5 Elastic IP addresses per region
- 5 VPCs per region
- 200 Subnets per VPC
- 50 Active VPC peering connections per VPC
- 20 VPC endpoints per region
- 8 for Small instances  
- 240 for Extra Large instances

---- Q - 
Is one Elastic IP address enough for every instance that I have running?
Every instance comes with its own private and public address. The private address is associated exclusively with the instance and 
is returned  to Amazon EC2 only when it is stopped or terminated. Similarly, the public address is associated exclusively with the 
instance until it is stopped or terminated. However, this can be replaced by the Elastic IP address, which stays with the instance as 
long as the user doesn’t manually detach it. But what if you are hosting multiple websites on your EC2 server, in that case you may 
require more than one Elastic IP address.

---- Q - 
Security in Amazon EC2
- Use AWS Identity and Access Management (IAM) to control access to your AWS resources.
- Restrict access by only allowing trusted hosts or networks to access ports on your instance.
- Review the rules in your security groups regularly, and ensure that you apply the principle of least
- Privilege – only open up permissions that you require.
- Disable password-based logins for instances launched from your AMI. Passwords can be found or cracked, and are a security risk.

---- Q - 
You need to configure an Amazon S3 bucket to serve static assets for your public-facing web application. Which method will ensure that 
all objects uploaded to the bucket are set to public read?
- Configure the bucket policy to set all objects to public read.Rather than making changes to every object, its better to set the policy for the whole bucket.

---- Q - 
A customer wants to leverage Amazon Simple Storage Service (S3) and Amazon Glacier as part of their backup and archive infrastructure. 
The customer plans to use third-party software to support this integration. Which approach will limit the access of the third party 
software to only the Amazon S3 bucket named “company-backup”?
- A custom IAM user policy limited to the Amazon S3 API in “company-backup”.this use case involves more granular permissions, hence 
IAM would be used here.

---- Q - 
What are use cases of using S3 with EC2 ?
- it can be used for instances with root devices backed by local instance storage.
- use the tools provided to load their Amazon Machine Images (AMIs) into Amazon S3 and to move them between Amazon S3 and Amazon EC2.
- for websites hosted on EC2 to load their static content from S3.

---- Q - 
A customer implemented AWS Storage Gateway with a gateway-cached volume at their main office. An event takes the link between the 
main and branch office offline. Which methods will enable the branch office to access their data?
- Launch a new AWS Storage Gateway instance AMI in Amazon EC2, and restore from a gateway snapshot.

---- Q - 
When you need to move data over long distances using the internet, for instance across countries or continents to your Amazon S3 bucket, 
which method or service will you use?
- Amazon Transfer Acceleration . We cannot use snowball , snowball service does not support cross region data transfer

---- Info - 
The best way of connecting to your cloud resources (for ex- ec2 instances) from your own data center (for eg- private cloud) is a VPC. 
Once you connect your datacenter to the VPC in which your instances are present, each instance is assigned a private IP address which 
can be accessed from your datacenter. Hence, you can access your public cloud resources, as if they were on your own network.

---- Q - 
Can I connect my corporate datacenter to the Amazon Cloud?
- Yes, you can do this by establishing a VPN(Virtual Private Network) connection between your company’s network and your VPC 
(Virtual Private Cloud

---- Info - 
Primary private IP address is attached with the instance throughout its lifetime and cannot be changed, however secondary private 
addresses can be unassigned, assigned or moved between interfaces or instances at any point.

---- Info - 
Subnets - To efficiently utilize networks that have a large no. of hosts. We can attach multiple subnets to a route table
Route Tables are used to route network packets, therefore in a subnet having multiple route tables will lead to confusion as to 
where the packet has to go. Therefore, there is only one route table in a subnet, and since a route table can have any no. of records 
or information, hence attaching multiple subnets to a route table is possible.





